<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>PyCharm 风格 · Python 小抄</title>
<style>
  :root {
    --bg: #2b2b2b;       /* Darcula 背景 */
    --panel: #3c3f41;    /* 面板 */
    --fg: #a9b7c6;       /* 文本 */
    --accent: #6897bb;   /* 数字 */
    --string: #6a8759;   /* 字符串 */
    --comment: #808080;  /* 注释 */
    --keyword: #cc7832;  /* 关键字 */
    --ident: #a9b7c6;    /* 标识符 */
    --cyan: #66d9ef;
    --green: #98c379;
    --purple: #c792ea;
    --blue: #82aaff;
    --yellow: #ffcb6b;
  }
  * { box-sizing: border-box; }
  body { margin:0; font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; background: var(--bg); color: var(--fg);}
  .toolbar { background:#313335; color:#d0d0d0; padding:10px 16px; display:flex; align-items:center; gap:12px; border-bottom:1px solid #000; }
  .tab { background:#3c3f41; padding:8px 12px; border-radius:6px 6px 0 0; }
  .wrap { max-width: 1000px; margin: 0 auto; }
  .editor { display:flex; border-top:1px solid #000; border-bottom:1px solid #000; background:#2b2b2b; }
  .gutter { background:#313335; color:#8c8c8c; padding:14px 8px; text-align:right; user-select:none; }
  .code { padding:14px 16px; white-space: pre; overflow:auto; flex:1; }
  .console { background:#1e1f22; border-top:1px solid #000; padding:14px 16px; white-space: pre; color:#cccccc; }
  .panel { background: var(--panel); padding:12px 16px; }
  .btn { background:#4e94ce; color:white; border:0; padding:6px 10px; border-radius:6px; cursor:pointer; }
  .btn:active { transform: translateY(1px); }
  .muted { color:#9aa0a6; }
  /* 简易高亮（近似 PyCharm Darcula）*/
  .k { color: var(--keyword);}
  .s { color: var(--string);}
  .c { color: var(--comment);}
  .n { color: var(--accent);}
</style>
</head>
<body>
  <div class="toolbar">
    <div class="tab">test.py</div>
    <span class="muted">PyCharm (Darcula) · 仅样式模拟</span>
    <button class="btn" id="copy">复制代码</button>
  </div>

  <div class="wrap">
    <div class="editor">
      <div class="gutter" id="gutter"></div>
      <pre class="code" id="code">import math  # 备注：导入标准数学库，提供圆周率 math.pi 等

print("please using eX to represent 10^X")  # 备注：用科学计数法输入（例如 1e-3 表示 0.001）

# 输入两个球的体积（单位 m^3）
v1 = float(input("enter the first volume of sphere, the unit is m^3: "))
v2 = float(input("enter the second volume of the sphere, the unit is m^3: "))

# 根据 V = 4/3 * π * r^3 反解 r = (3V / 4π)^(1/3)
R1 = ((3*v1)/(4*math.pi))**(1/3)  # 备注：第一个球的半径（m）
R2 = ((3*v2)/(4*math.pi))**(1/3)  # 备注：第二个球的半径（m）

# 表面积 S = 4πr^2
S1 = 4*math.pi*(R1**2)  # 备注：第一个球的表面积（m^2）
S2 = 4*math.pi*(R2**2)  # 备注：第二个球的表面积（m^2）

print("The first volume of sphere is: %f m³, and the surface area is: %f m²" % (v1, S1))
print("The second volume of sphere is: %f m³, and the surface area is: %f m²" % (v2, S2))</pre>
    </div>
    <div class="panel">Console</div>
    <pre class="console" id="console">C:\Users\you> python test.py
please using eX to represent 10^X
enter the first volume of sphere, the unit is m^3: 1e-3
enter the second volume of the sphere, the unit is m^3: 2e-3
The first volume of sphere is: 0.001000 m³, and the surface area is: 0.292401 m²
The second volume of sphere is: 0.002000 m³, and the surface area is: 0.368628 m²
</pre>

    <div class="panel">
      <b>说明 / 备注</b>
      <ul>
        <li>已在代码中用 <code># 备注：</code> 标出关键信息（公式、单位）。</li>
        <li>上方展示的是“编辑器 + 行号 + 简易高亮”，下方是“运行时控制台”的<strong>示例输出</strong>，与 PyCharm 控制台风格相近。</li>
        <li>这是<strong>静态小抄</strong>，不在网页里执行 Python；目的是课堂快速查看。</li>
      </ul>
    </div>
  </div>

<script>
  // 行号
  const codeEl = document.getElementById('code');
  const lines = codeEl.textContent.split('\n').length;
  document.getElementById('gutter').textContent = Array.from({length:lines}, (_,i)=>String(i+1)).join('\n');

  // 复制
  document.getElementById('copy').onclick = async () => {
    await navigator.clipboard.writeText(codeEl.textContent);
    const b = document.getElementById('copy'); const t=b.textContent; b.textContent='已复制';
    setTimeout(()=>b.textContent=t, 1000);
  };

  // 简易语法高亮（非常轻量，不依赖外网），只处理常见元素：字符串、注释、数字、关键字
  const kw = ['import','print','float','input','math'];
  function escapeHtml(s) { return s.replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;'); }
  function highlight(py) {
    py = escapeHtml(py);
    // 字符串
    py = py.replace(/(".*?"|'.*?')/g, '<span class="s">$1</span>');
    // 注释
    py = py.replace(/(#.*?$)/gm, '<span class="c">$1</span>');
    // 数字（含小数、科学计数）
    py = py.replace(/\b(\d+(?:\.\d+)?(?:e[+-]?\d+)?)\b/gi, '<span class="n">$1</span>');
    // 关键字和内置名
    for (const k of kw) {
      const re = new RegExp('\\b'+k+'\\b','g');
      py = py.replace(re, '<span class="k">'+k+'</span>');
    }
    return py;
  }
  codeEl.innerHTML = highlight(codeEl.textContent);
</script>
</body>
</html>
